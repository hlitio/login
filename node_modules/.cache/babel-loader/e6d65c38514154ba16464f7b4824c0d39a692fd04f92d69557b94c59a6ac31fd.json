{"ast":null,"code":"import { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEDecryptionFailed, JWEInvalid } from '../../util/errors.js';\nimport isObject from '../../lib/is_object.js';\nexport async function generalDecrypt(jwe, key, options) {\n  if (!isObject(jwe)) {\n    throw new JWEInvalid('General JWE must be an object');\n  }\n  if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(isObject)) {\n    throw new JWEInvalid('JWE Recipients missing or incorrect type');\n  }\n  if (!jwe.recipients.length) {\n    throw new JWEInvalid('JWE Recipients has no members');\n  }\n  for (const recipient of jwe.recipients) {\n    try {\n      return await flattenedDecrypt({\n        aad: jwe.aad,\n        ciphertext: jwe.ciphertext,\n        encrypted_key: recipient.encrypted_key,\n        header: recipient.header,\n        iv: jwe.iv,\n        protected: jwe.protected,\n        tag: jwe.tag,\n        unprotected: jwe.unprotected\n      }, key, options);\n    } catch (_a) {}\n  }\n  throw new JWEDecryptionFailed();\n}","map":{"version":3,"names":["flattenedDecrypt","JWEDecryptionFailed","JWEInvalid","isObject","generalDecrypt","jwe","key","options","Array","isArray","recipients","every","length","recipient","aad","ciphertext","encrypted_key","header","iv","protected","tag","unprotected","_a"],"sources":["C:/Users/hherenu/Desktop/Proyectos/login/node_modules/jose/dist/browser/jwe/general/decrypt.js"],"sourcesContent":["import { flattenedDecrypt } from '../flattened/decrypt.js';\r\nimport { JWEDecryptionFailed, JWEInvalid } from '../../util/errors.js';\r\nimport isObject from '../../lib/is_object.js';\r\nexport async function generalDecrypt(jwe, key, options) {\r\n    if (!isObject(jwe)) {\r\n        throw new JWEInvalid('General JWE must be an object');\r\n    }\r\n    if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(isObject)) {\r\n        throw new JWEInvalid('JWE Recipients missing or incorrect type');\r\n    }\r\n    if (!jwe.recipients.length) {\r\n        throw new JWEInvalid('JWE Recipients has no members');\r\n    }\r\n    for (const recipient of jwe.recipients) {\r\n        try {\r\n            return await flattenedDecrypt({\r\n                aad: jwe.aad,\r\n                ciphertext: jwe.ciphertext,\r\n                encrypted_key: recipient.encrypted_key,\r\n                header: recipient.header,\r\n                iv: jwe.iv,\r\n                protected: jwe.protected,\r\n                tag: jwe.tag,\r\n                unprotected: jwe.unprotected,\r\n            }, key, options);\r\n        }\r\n        catch (_a) {\r\n        }\r\n    }\r\n    throw new JWEDecryptionFailed();\r\n}\r\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,yBAAyB;AAC1D,SAASC,mBAAmB,EAAEC,UAAU,QAAQ,sBAAsB;AACtE,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAO,eAAeC,cAAc,CAACC,GAAG,EAAEC,GAAG,EAAEC,OAAO,EAAE;EACpD,IAAI,CAACJ,QAAQ,CAACE,GAAG,CAAC,EAAE;IAChB,MAAM,IAAIH,UAAU,CAAC,+BAA+B,CAAC;EACzD;EACA,IAAI,CAACM,KAAK,CAACC,OAAO,CAACJ,GAAG,CAACK,UAAU,CAAC,IAAI,CAACL,GAAG,CAACK,UAAU,CAACC,KAAK,CAACR,QAAQ,CAAC,EAAE;IACnE,MAAM,IAAID,UAAU,CAAC,0CAA0C,CAAC;EACpE;EACA,IAAI,CAACG,GAAG,CAACK,UAAU,CAACE,MAAM,EAAE;IACxB,MAAM,IAAIV,UAAU,CAAC,+BAA+B,CAAC;EACzD;EACA,KAAK,MAAMW,SAAS,IAAIR,GAAG,CAACK,UAAU,EAAE;IACpC,IAAI;MACA,OAAO,MAAMV,gBAAgB,CAAC;QAC1Bc,GAAG,EAAET,GAAG,CAACS,GAAG;QACZC,UAAU,EAAEV,GAAG,CAACU,UAAU;QAC1BC,aAAa,EAAEH,SAAS,CAACG,aAAa;QACtCC,MAAM,EAAEJ,SAAS,CAACI,MAAM;QACxBC,EAAE,EAAEb,GAAG,CAACa,EAAE;QACVC,SAAS,EAAEd,GAAG,CAACc,SAAS;QACxBC,GAAG,EAAEf,GAAG,CAACe,GAAG;QACZC,WAAW,EAAEhB,GAAG,CAACgB;MACrB,CAAC,EAAEf,GAAG,EAAEC,OAAO,CAAC;IACpB,CAAC,CACD,OAAOe,EAAE,EAAE,CACX;EACJ;EACA,MAAM,IAAIrB,mBAAmB,EAAE;AACnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}