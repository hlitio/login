{"ast":null,"code":"import { throwServerError } from \"../utils/index.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function parseAndCheckHttpResponse(operations) {\n  return function (response) {\n    return response.text().then(function (bodyText) {\n      try {\n        return JSON.parse(bodyText);\n      } catch (err) {\n        var parseError = err;\n        parseError.name = 'ServerParseError';\n        parseError.response = response;\n        parseError.statusCode = response.status;\n        parseError.bodyText = bodyText;\n        throw parseError;\n      }\n    }).then(function (result) {\n      if (response.status >= 300) {\n        throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\n      }\n      if (!Array.isArray(result) && !hasOwnProperty.call(result, 'data') && !hasOwnProperty.call(result, 'errors')) {\n        throwServerError(response, result, \"Server response was missing for query '\" + (Array.isArray(operations) ? operations.map(function (op) {\n          return op.operationName;\n        }) : operations.operationName) + \"'.\");\n      }\n      return result;\n    });\n  };\n}","map":{"version":3,"mappings":"AACA,SAASA,gBAAgB,QAAQ,mBAAW;AAEpC,kBAAc,GAAKC,MAAM,CAACC,SAAS,eAArB;AAQtB,OAAM,SAAUC,yBAAyB,CACvCC,UAAmC;EAEnC,OAAO,UAACC,QAAkB;IAAK,eAAQ,CACpCC,IAAI,EAAE,CACNC,IAAI,CAAC,kBAAQ;MACZ,IAAI;QACF,OAAOC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAC;OAC5B,CAAC,OAAOC,GAAG,EAAE;QACZ,IAAMC,UAAU,GAAGD,GAAuB;QAC1CC,UAAU,CAACC,IAAI,GAAG,kBAAkB;QACpCD,UAAU,CAACP,QAAQ,GAAGA,QAAQ;QAC9BO,UAAU,CAACE,UAAU,GAAGT,QAAQ,CAACU,MAAM;QACvCH,UAAU,CAACF,QAAQ,GAAGA,QAAQ;QAC9B,MAAME,UAAU;;IAEpB,CAAC,CAAC,CACDL,IAAI,CAAC,UAACS,MAAW;MAChB,IAAIX,QAAQ,CAACU,MAAM,IAAI,GAAG,EAAE;QAE1Bf,gBAAgB,CACdK,QAAQ,EACRW,MAAM,EACN,mDAAiDX,QAAQ,CAACU,MAAQ,CACnE;;MAGH,IACE,CAACE,KAAK,CAACC,OAAO,CAACF,MAAM,CAAC,IACtB,CAACG,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAE,MAAM,CAAC,IACpC,CAACG,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAE,QAAQ,CAAC,EACtC;QAEAhB,gBAAgB,CACdK,QAAQ,EACRW,MAAM,EACN,6CACEC,KAAK,CAACC,OAAO,CAACd,UAAU,CAAC,GACrBA,UAAU,CAACiB,GAAG,CAAC,YAAE;UAAI,SAAE,CAACC,aAAa;QAAhB,CAAgB,CAAC,GACtClB,UAAU,CAACkB,aAAa,QAC1B,CACL;;MAEH,OAAON,MAAM;IACf,CAAC,CAAC;EAzC2B,CAyC3B;AACN","names":["throwServerError","Object","prototype","parseAndCheckHttpResponse","operations","response","text","then","JSON","parse","bodyText","err","parseError","name","statusCode","status","result","Array","isArray","hasOwnProperty","call","map","operationName"],"sources":["C:\\Users\\Hernan\\Desktop\\Proyectos\\login\\node_modules\\@apollo\\src\\link\\http\\parseAndCheckHttpResponse.ts"],"sourcesContent":["import { Operation } from '../core';\nimport { throwServerError } from '../utils';\n\nconst { hasOwnProperty } = Object.prototype;\n\nexport type ServerParseError = Error & {\n  response: Response;\n  statusCode: number;\n  bodyText: string;\n};\n\nexport function parseAndCheckHttpResponse(\n  operations: Operation | Operation[],\n) {\n  return (response: Response) => response\n    .text()\n    .then(bodyText => {\n      try {\n        return JSON.parse(bodyText);\n      } catch (err) {\n        const parseError = err as ServerParseError;\n        parseError.name = 'ServerParseError';\n        parseError.response = response;\n        parseError.statusCode = response.status;\n        parseError.bodyText = bodyText;\n        throw parseError;\n      }\n    })\n    .then((result: any) => {\n      if (response.status >= 300) {\n        // Network error\n        throwServerError(\n          response,\n          result,\n          `Response not successful: Received status code ${response.status}`,\n        );\n      }\n\n      if (\n        !Array.isArray(result) &&\n        !hasOwnProperty.call(result, 'data') &&\n        !hasOwnProperty.call(result, 'errors')\n      ) {\n        // Data error\n        throwServerError(\n          response,\n          result,\n          `Server response was missing for query '${\n            Array.isArray(operations)\n              ? operations.map(op => op.operationName)\n              : operations.operationName\n          }'.`,\n        );\n      }\n      return result;\n    });\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}